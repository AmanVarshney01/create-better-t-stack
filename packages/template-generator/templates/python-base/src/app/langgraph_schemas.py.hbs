{{#if (includes pythonAi "langgraph")}}
"""Pydantic schemas for LangGraph API endpoints."""

from pydantic import BaseModel, Field


class ChatMessage(BaseModel):
    """A single message in a conversation."""

    role: str = Field(..., description="The role of the message sender (user, assistant, system)")
    content: str = Field(..., description="The content of the message")


class LangGraphChatRequest(BaseModel):
    """Request body for LangGraph chat endpoint."""

    message: str = Field(..., description="The user's message", min_length=1)
    history: list[ChatMessage] | None = Field(
        default=None, description="Optional conversation history"
    )
    system_prompt: str | None = Field(
        default=None, description="Optional system prompt to override default"
    )
    model: str | None = Field(default=None, description="Optional model override")
    temperature: float | None = Field(
        default=None, ge=0.0, le=2.0, description="Optional temperature override"
    )


class LangGraphChatResponse(BaseModel):
    """Response body for LangGraph chat endpoint."""

    response: str = Field(..., description="The assistant's response")


class LangGraphAgentRequest(BaseModel):
    """Request body for LangGraph agent endpoint."""

    message: str = Field(..., description="The user's message", min_length=1)
    history: list[ChatMessage] | None = Field(
        default=None, description="Optional conversation history"
    )
    system_prompt: str | None = Field(
        default=None, description="Optional system prompt to override default"
    )
    model: str | None = Field(default=None, description="Optional model override")
    temperature: float | None = Field(
        default=None, ge=0.0, le=2.0, description="Optional temperature override"
    )
    max_iterations: int | None = Field(
        default=None, ge=1, le=50, description="Maximum reasoning iterations"
    )


class LangGraphAgentResponse(BaseModel):
    """Response body for LangGraph agent endpoint."""

    response: str = Field(..., description="The agent's final response")


class LangGraphCompletionRequest(BaseModel):
    """Request body for simple completion endpoint."""

    prompt: str = Field(..., description="The prompt to complete", min_length=1)
    model: str | None = Field(default=None, description="Optional model override")
    temperature: float | None = Field(
        default=None, ge=0.0, le=2.0, description="Optional temperature override"
    )


class LangGraphCompletionResponse(BaseModel):
    """Response body for completion endpoint."""

    completion: str = Field(..., description="The completion response")
{{/if}}
