import { createAuthClient } from "better-auth/vue";
{{#if (eq payments "polar")}}
import { polarClient } from "@polar-sh/better-auth";
{{/if}}

export default defineNuxtPlugin(() => {
  const config = useRuntimeConfig();

  const authClient = createAuthClient({
    baseURL: config.public.NUXT_PUBLIC_SERVER_URL,
    {{#if (eq payments "polar")}}
    plugins: [polarClient()],
    {{/if}}
  });

  return {
    provide: {
      authClient: authClient,
    },
  };
});
