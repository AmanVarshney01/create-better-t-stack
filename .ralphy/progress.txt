# Ralphy Progress Log

## 2026-01-19: NestJS Backend Framework Implementation

### Task: Implement NestJS as a backend framework option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "nestjs" to BackendSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added NestJS dependency versions:
   - @nestjs/core: ^11.0.20
   - @nestjs/common: ^11.0.20
   - @nestjs/platform-express: ^11.0.20
   - reflect-metadata: ^0.2.2
   - rxjs: ^7.8.1
3. **packages/template-generator/src/processors/backend-deps.ts**: Added NestJS dependency processing
4. **packages/template-generator/templates/backend/server/nestjs/**: Created NestJS templates:
   - src/index.ts.hbs - Main bootstrap file with NestFactory
   - src/app.module.ts.hbs - Root module with conditional tRPC/oRPC/AI imports
   - src/app.controller.ts.hbs - Root controller
   - src/app.service.ts.hbs - Root service
   - src/trpc/trpc.module.ts.hbs - tRPC integration module
   - src/trpc/trpc.middleware.ts.hbs - tRPC middleware adapter
   - src/orpc/orpc.module.ts.hbs - oRPC integration module
   - src/orpc/orpc.middleware.ts.hbs - oRPC middleware adapter
   - src/ai/ai.module.ts.hbs - AI example module
   - src/ai/ai.controller.ts.hbs - AI controller
   - src/ai/ai.service.ts.hbs - AI service with streaming support
5. **apps/web/src/lib/constant.ts**: Added NestJS to web builder backend options

### Features:
- Full NestJS module/controller/service architecture
- tRPC integration via Express middleware adapter
- oRPC integration via Express middleware adapter
- Better-Auth integration support
- AI SDK integration with streaming responses
- CORS configuration
- Compatible with Node.js runtime

### Status: COMPLETE


## 2026-01-19: Nodemailer Email Option Implementation

### Task: Implement Nodemailer as an email sending option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "nodemailer" to EmailSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added Nodemailer dependency versions:
   - nodemailer: ^6.10.1
   - @types/nodemailer: ^6.4.17
3. **packages/template-generator/src/processors/email-deps.ts**: Added Nodemailer dependency processing
4. **packages/template-generator/src/processors/env-vars.ts**: Added SMTP environment variables:
   - SMTP_HOST
   - SMTP_PORT
   - SMTP_SECURE
   - SMTP_USER
   - SMTP_PASS
   - SMTP_FROM_EMAIL
5. **packages/template-generator/templates/email/nodemailer/server/base/src/lib/email.ts.hbs**: Created Nodemailer email utility template with:
   - SMTP transporter configuration
   - sendEmail function with attachments support
   - verifyEmailConnection function for connection testing
   - getTransporter function for advanced usage
6. **apps/web/src/lib/constant.ts**: Added Nodemailer to web builder email options
7. **apps/web/src/lib/stack-url-state.ts**: Added email field to stack state
8. **apps/web/src/lib/stack-url-state.client.ts**: Added email field to client state
9. **apps/web/src/lib/stack-search-schema.ts**: Added "em" (email) URL param
10. **apps/cli/test/email.test.ts**: Added comprehensive Nodemailer tests

### Features:
- SMTP-based email sending via Nodemailer
- Support for Ethereal (testing), Gmail, SendGrid, AWS SES, and other SMTP providers
- Attachment support
- Connection verification utility
- SSL/TLS configuration options
- Compatible with all backend frameworks (Hono, Express, Fastify, Elysia, NestJS)

### Status: COMPLETE


## 2026-01-19: Remix Frontend Framework - Documentation Update

### Task: Mark Remix as complete in PRD (already implemented as React Router v7)

### Background:
Remix has been merged into React Router v7 framework mode. The existing "React Router" option in Better-Fullstack uses React Router v7 framework mode, which includes all Remix functionality:
- File-based routing with `@react-router/fs-routes`
- Server-side rendering with `@react-router/node` and `@react-router/serve`
- Data loading with loaders and actions
- Full-stack framework capabilities via `@react-router/dev` Vite plugin

### Changes Made:
1. **PRD.md**: Updated Remix entry from `[ ]` to `[x]` with note explaining it's implemented as "React Router" (React Router v7 framework mode, the Remix successor)

### Rationale:
- Remix v3 was cancelled; React Router v7 is the official successor
- The codebase already has full React Router v7 framework mode support under the "react-router" frontend option
- Users looking for "Remix" functionality will find it in the "React Router" option
- No new code implementation needed - this is a documentation update to reflect existing functionality

### Status: COMPLETE


## 2026-01-19: Qwik Frontend Framework Implementation

### Task: Implement Qwik as a frontend framework option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "qwik" to FrontendSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added Qwik dependency versions:
   - @builder.io/qwik: ^1.14.1
   - @builder.io/qwik-city: ^1.14.1
   - @builder.io/qwik-react: ^0.7.0
3. **packages/template-generator/templates/frontend/qwik/**: Created Qwik templates:
   - package.json.hbs - Qwik project dependencies with Tailwind conditional
   - vite.config.ts.hbs - Vite config with Qwik plugins
   - tsconfig.json.hbs - TypeScript config for Qwik
   - src/root.tsx.hbs - Root component with QwikCityProvider
   - src/entry.ssr.tsx - SSR entry point
   - src/entry.preview.tsx - Preview entry point
   - src/global.css.hbs - Global styles with Tailwind conditional
   - src/components/router-head/router-head.tsx - Document head component
   - src/components/header.tsx.hbs - Header with navigation
   - src/routes/layout.tsx.hbs - Root layout with Better T Stack styling
   - src/routes/index.tsx.hbs - Home page
   - public/favicon.svg, manifest.json, robots.txt, _gitignore
4. **packages/template-generator/src/template-handlers/frontend.ts**: Added Qwik frontend processing
5. **packages/template-generator/src/processors/css-ui-deps.ts**: Added Qwik to frontend checks
6. **apps/cli/src/utils/compatibility.ts**: Added "qwik" to WEB_FRAMEWORKS
7. **apps/cli/src/utils/compatibility-rules.ts**: Added Qwik-specific validations:
   - Qwik must use backend="none" (has its own built-in server capabilities)
   - Qwik must use api="none" (doesn't support tRPC/oRPC external API layers)
   - Updated isFrontendAllowedWithBackend and allowedApisForFrontends
8. **apps/cli/src/constants.ts**: Added Qwik to compatibility mappings:
   - Added to ADDON_COMPATIBILITY (pwa, tauri)
   - Added to UI_LIBRARY_COMPATIBILITY (daisyui, none)
   - Added qwik: "daisyui" to DEFAULT_UI_LIBRARY_BY_FRONTEND
9. **apps/web/src/lib/constant.ts**: Added Qwik to web builder frontend options with purple icon
10. **apps/cli/test/frontend.test.ts**: Added Qwik-specific tests:
    - Test for Qwik standalone (no backend)
    - Tests for Qwik incompatibility with tRPC and oRPC APIs

### Features:
- Full Qwik City framework support with file-based routing
- Resumable architecture for instant load times
- SSR and preview entry points
- Tailwind CSS conditional support (via daisyUI)
- Standalone mode (no external backend needed - Qwik has built-in server capabilities)
- Compatible with PWA and Tauri addons

### Technical Notes:
- Qwik uses resumability instead of hydration for superior performance
- Qwik City provides file-based routing similar to Next.js/SvelteKit
- Qwik works standalone (backend="none") because it has its own server capabilities
- daisyUI is the default UI library for Qwik (shadcn-ui requires React)

### Status: COMPLETE

