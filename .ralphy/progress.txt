# Ralphy Progress Log

## 2026-01-19: NestJS Backend Framework Implementation

### Task: Implement NestJS as a backend framework option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "nestjs" to BackendSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added NestJS dependency versions:
   - @nestjs/core: ^11.0.20
   - @nestjs/common: ^11.0.20
   - @nestjs/platform-express: ^11.0.20
   - reflect-metadata: ^0.2.2
   - rxjs: ^7.8.1
3. **packages/template-generator/src/processors/backend-deps.ts**: Added NestJS dependency processing
4. **packages/template-generator/templates/backend/server/nestjs/**: Created NestJS templates:
   - src/index.ts.hbs - Main bootstrap file with NestFactory
   - src/app.module.ts.hbs - Root module with conditional tRPC/oRPC/AI imports
   - src/app.controller.ts.hbs - Root controller
   - src/app.service.ts.hbs - Root service
   - src/trpc/trpc.module.ts.hbs - tRPC integration module
   - src/trpc/trpc.middleware.ts.hbs - tRPC middleware adapter
   - src/orpc/orpc.module.ts.hbs - oRPC integration module
   - src/orpc/orpc.middleware.ts.hbs - oRPC middleware adapter
   - src/ai/ai.module.ts.hbs - AI example module
   - src/ai/ai.controller.ts.hbs - AI controller
   - src/ai/ai.service.ts.hbs - AI service with streaming support
5. **apps/web/src/lib/constant.ts**: Added NestJS to web builder backend options

### Features:
- Full NestJS module/controller/service architecture
- tRPC integration via Express middleware adapter
- oRPC integration via Express middleware adapter
- Better-Auth integration support
- AI SDK integration with streaming responses
- CORS configuration
- Compatible with Node.js runtime

### Status: COMPLETE


## 2026-01-19: Nodemailer Email Option Implementation

### Task: Implement Nodemailer as an email sending option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "nodemailer" to EmailSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added Nodemailer dependency versions:
   - nodemailer: ^6.10.1
   - @types/nodemailer: ^6.4.17
3. **packages/template-generator/src/processors/email-deps.ts**: Added Nodemailer dependency processing
4. **packages/template-generator/src/processors/env-vars.ts**: Added SMTP environment variables:
   - SMTP_HOST
   - SMTP_PORT
   - SMTP_SECURE
   - SMTP_USER
   - SMTP_PASS
   - SMTP_FROM_EMAIL
5. **packages/template-generator/templates/email/nodemailer/server/base/src/lib/email.ts.hbs**: Created Nodemailer email utility template with:
   - SMTP transporter configuration
   - sendEmail function with attachments support
   - verifyEmailConnection function for connection testing
   - getTransporter function for advanced usage
6. **apps/web/src/lib/constant.ts**: Added Nodemailer to web builder email options
7. **apps/web/src/lib/stack-url-state.ts**: Added email field to stack state
8. **apps/web/src/lib/stack-url-state.client.ts**: Added email field to client state
9. **apps/web/src/lib/stack-search-schema.ts**: Added "em" (email) URL param
10. **apps/cli/test/email.test.ts**: Added comprehensive Nodemailer tests

### Features:
- SMTP-based email sending via Nodemailer
- Support for Ethereal (testing), Gmail, SendGrid, AWS SES, and other SMTP providers
- Attachment support
- Connection verification utility
- SSL/TLS configuration options
- Compatible with all backend frameworks (Hono, Express, Fastify, Elysia, NestJS)

### Status: COMPLETE


## 2026-01-19: Remix Frontend Framework - Documentation Update

### Task: Mark Remix as complete in PRD (already implemented as React Router v7)

### Background:
Remix has been merged into React Router v7 framework mode. The existing "React Router" option in Better-Fullstack uses React Router v7 framework mode, which includes all Remix functionality:
- File-based routing with `@react-router/fs-routes`
- Server-side rendering with `@react-router/node` and `@react-router/serve`
- Data loading with loaders and actions
- Full-stack framework capabilities via `@react-router/dev` Vite plugin

### Changes Made:
1. **PRD.md**: Updated Remix entry from `[ ]` to `[x]` with note explaining it's implemented as "React Router" (React Router v7 framework mode, the Remix successor)

### Rationale:
- Remix v3 was cancelled; React Router v7 is the official successor
- The codebase already has full React Router v7 framework mode support under the "react-router" frontend option
- Users looking for "Remix" functionality will find it in the "React Router" option
- No new code implementation needed - this is a documentation update to reflect existing functionality

### Status: COMPLETE


## 2026-01-19: Qwik Frontend Framework Implementation

### Task: Implement Qwik as a frontend framework option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "qwik" to FrontendSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added Qwik dependency versions:
   - @builder.io/qwik: ^1.14.1
   - @builder.io/qwik-city: ^1.14.1
   - @builder.io/qwik-react: ^0.7.0
3. **packages/template-generator/templates/frontend/qwik/**: Created Qwik templates:
   - package.json.hbs - Qwik project dependencies with Tailwind conditional
   - vite.config.ts.hbs - Vite config with Qwik plugins
   - tsconfig.json.hbs - TypeScript config for Qwik
   - src/root.tsx.hbs - Root component with QwikCityProvider
   - src/entry.ssr.tsx - SSR entry point
   - src/entry.preview.tsx - Preview entry point
   - src/global.css.hbs - Global styles with Tailwind conditional
   - src/components/router-head/router-head.tsx - Document head component
   - src/components/header.tsx.hbs - Header with navigation
   - src/routes/layout.tsx.hbs - Root layout with Better T Stack styling
   - src/routes/index.tsx.hbs - Home page
   - public/favicon.svg, manifest.json, robots.txt, _gitignore
4. **packages/template-generator/src/template-handlers/frontend.ts**: Added Qwik frontend processing
5. **packages/template-generator/src/processors/css-ui-deps.ts**: Added Qwik to frontend checks
6. **apps/cli/src/utils/compatibility.ts**: Added "qwik" to WEB_FRAMEWORKS
7. **apps/cli/src/utils/compatibility-rules.ts**: Added Qwik-specific validations:
   - Qwik must use backend="none" (has its own built-in server capabilities)
   - Qwik must use api="none" (doesn't support tRPC/oRPC external API layers)
   - Updated isFrontendAllowedWithBackend and allowedApisForFrontends
8. **apps/cli/src/constants.ts**: Added Qwik to compatibility mappings:
   - Added to ADDON_COMPATIBILITY (pwa, tauri)
   - Added to UI_LIBRARY_COMPATIBILITY (daisyui, none)
   - Added qwik: "daisyui" to DEFAULT_UI_LIBRARY_BY_FRONTEND
9. **apps/web/src/lib/constant.ts**: Added Qwik to web builder frontend options with purple icon
10. **apps/cli/test/frontend.test.ts**: Added Qwik-specific tests:
    - Test for Qwik standalone (no backend)
    - Tests for Qwik incompatibility with tRPC and oRPC APIs

### Features:
- Full Qwik City framework support with file-based routing
- Resumable architecture for instant load times
- SSR and preview entry points
- Tailwind CSS conditional support (via daisyUI)
- Standalone mode (no external backend needed - Qwik has built-in server capabilities)
- Compatible with PWA and Tauri addons

### Technical Notes:
- Qwik uses resumability instead of hydration for superior performance
- Qwik City provides file-based routing similar to Next.js/SvelteKit
- Qwik works standalone (backend="none") because it has its own server capabilities
- daisyUI is the default UI library for Qwik (shadcn-ui requires React)

### Status: COMPLETE


## 2026-01-19: ts-rest API Layer Implementation

### Task: Implement ts-rest as an API layer option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "ts-rest" to APISchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added ts-rest dependency versions:
   - @ts-rest/core: ^3.55.0
   - @ts-rest/react-query: ^3.55.0
   - @ts-rest/serverless: ^3.55.0
   - @ts-rest/next: ^3.55.0
3. **packages/template-generator/src/processors/api-deps.ts**: Added ts-rest dependency processing for:
   - API package dependencies (core + zod)
   - Server dependencies (core + serverless)
   - Self backend web dependencies (core + serverless + next)
   - Web client dependencies (core + react-query)
   - Native client dependencies (core + react-query)
4. **packages/template-generator/templates/api/ts-rest/server/**: Created server templates:
   - src/index.ts.hbs - Contract definition with health check, private data, and todos endpoints
   - src/context.ts.hbs - Context creation for all backends (Hono, Elysia, Express, Fastify, Next.js, TanStack Start, Astro)
   - src/routers/index.ts.hbs - Router implementation with handlers
   - src/routers/todo.ts.hbs - Todo handlers with Drizzle ORM integration
5. **packages/template-generator/templates/api/ts-rest/web/react/base/src/utils/ts-rest.ts.hbs**: React web client template with React Query integration
6. **packages/template-generator/templates/api/ts-rest/native/utils/ts-rest.ts.hbs**: React Native client template
7. **packages/template-generator/templates/api/ts-rest/fullstack/**: Fullstack templates:
   - next/src/app/api/rest/[[...rest]]/route.ts.hbs - Next.js API route handler
   - next/src/utils/ts-rest.ts.hbs - Next.js client
   - tanstack-start/src/routes/api/rest/$.ts.hbs - TanStack Start route handler
   - tanstack-start/src/utils/ts-rest.ts.hbs - TanStack Start client
   - astro/src/pages/api/rest/[...rest].ts.hbs - Astro API route handler
   - astro/src/utils/ts-rest.ts.hbs - Astro client
8. **packages/template-generator/src/template-handlers/frontend.ts**: Updated to include ts-rest for native templates
9. **apps/web/src/lib/constant.ts**: Added ts-rest to web builder API options
10. **apps/cli/src/utils/compatibility-rules.ts**: Updated compatibility rules:
    - Added ts-rest to base API array
    - ts-rest requires React (like tRPC) - not compatible with Nuxt, Svelte, or Solid
    - ts-rest requires React integration for Astro
11. **apps/cli/test/api.test.ts**: Added comprehensive ts-rest tests:
    - Frontend compatibility tests (React frameworks pass, non-React fail)
    - Backend compatibility tests (Hono, Express, Fastify, Elysia)
    - Authentication tests (better-auth)
    - Fullstack mode tests (Next.js, TanStack Start, Astro)
12. **apps/cli/test/test-utils.ts**: Added Email type import and default

### Features:
- Contract-first API design using Zod schemas
- End-to-end type safety between client and server
- React Query integration for data fetching
- Support for all React-based frontends (TanStack Router, React Router, TanStack Start, Next.js)
- Support for React Native (Expo) clients
- Fullstack mode support (Next.js, TanStack Start, Astro with React integration)
- Better-Auth integration support
- Todo example with CRUD operations
- Compatible with Hono, Express, Fastify, and Elysia backends

### Technical Notes:
- ts-rest provides RPC-like experience for REST APIs
- Uses @ts-rest/react-query for React Query bindings
- Uses @ts-rest/serverless for serverless handlers
- Requires React integration (like tRPC) for client-side type safety
- Contract defines API shape with Zod schemas for request/response validation

### Status: COMPLETE


## 2026-01-19: Angular Frontend Framework Implementation

### Task: Implement Angular as a frontend framework option

### Changes Made:
1. **packages/types/src/schemas.ts**: Added "angular" to FrontendSchema enum
2. **packages/template-generator/src/utils/add-deps.ts**: Added Angular dependency versions:
   - @angular/core: ^19.2.0
   - @angular/common: ^19.2.0
   - @angular/compiler: ^19.2.0
   - @angular/platform-browser: ^19.2.0
   - @angular/platform-browser-dynamic: ^19.2.0
   - @angular/router: ^19.2.0
   - @angular/forms: ^19.2.0
   - @angular/animations: ^19.2.0
   - @angular-devkit/build-angular: ^19.2.0
   - @angular/cli: ^19.2.0
   - @angular/compiler-cli: ^19.2.0
3. **packages/template-generator/templates/frontend/angular/**: Created Angular templates:
   - package.json.hbs - Angular project dependencies
   - angular.json.hbs - Angular CLI workspace configuration
   - tsconfig.json.hbs - TypeScript config for Angular
   - tsconfig.app.json - App-specific TypeScript config
   - src/index.html - HTML entry point
   - src/main.ts - Bootstrap entry point
   - src/styles.css.hbs - Global styles with Tailwind conditional
   - src/app/app.config.ts - Application configuration
   - src/app/app.routes.ts - Router configuration
   - src/app/app.component.ts.hbs - Root component
   - src/app/components/header.component.ts.hbs - Header component
   - src/app/pages/home/home.component.ts.hbs - Home page component
   - public/favicon.svg - Favicon
   - _gitignore - Git ignore file
4. **packages/template-generator/src/template-handlers/frontend.ts**: Added Angular frontend processing
5. **apps/web/src/lib/constant.ts**: Added Angular to web builder frontend options with red icon
6. **apps/cli/src/utils/compatibility.ts**: Added "angular" to WEB_FRAMEWORKS
7. **apps/cli/src/utils/compatibility-rules.ts**: Added Angular-specific validations:
   - Angular must use backend="none" (has its own built-in dev server)
   - Angular must use api="none" (uses its own HttpClient, doesn't support tRPC/oRPC/ts-rest)
   - Updated isFrontendAllowedWithBackend and allowedApisForFrontends
   - Angular not compatible with Convex backend
8. **apps/cli/src/constants.ts**: Added Angular to compatibility mappings:
   - Added to ADDON_COMPATIBILITY (pwa, tauri)
   - Added to UI_LIBRARY_COMPATIBILITY (daisyui, none)
   - Added angular: "daisyui" to DEFAULT_UI_LIBRARY_BY_FRONTEND
9. **apps/cli/test/frontend.test.ts**: Added Angular-specific tests:
   - Test for Angular standalone (no backend)
   - Tests for Angular incompatibility with tRPC, oRPC, and ts-rest APIs

### Features:
- Full Angular 19 standalone components architecture (no NgModule required)
- Angular CLI workspace configuration
- Built-in routing with @angular/router
- Tailwind CSS conditional support (via daisyUI)
- Standalone mode (no external backend needed - Angular has its own dev server)
- Compatible with PWA and Tauri addons
- Signals-ready reactive architecture

### Technical Notes:
- Angular uses standalone components by default (Angular 14+)
- Angular has its own HttpClient for API calls
- Angular works standalone (backend="none") because it has its own dev server via Angular CLI
- daisyUI is the default UI library for Angular (shadcn-ui requires React)
- Uses Angular 19 with latest standalone component patterns

### Status: COMPLETE

